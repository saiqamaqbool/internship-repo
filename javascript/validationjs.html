
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Validation with JavaScript</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .error-box {
      background-color: #f8d7da;
      color: #842029;
      border: 1px solid #f5c2c7;
      border-radius: 0.375rem;
      padding: 0.5rem;
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }
  </style>
</head>
<body>
<div class="container mt-4">
  <form id="myForm" class="row g-3">
    
  
    <div class="col-8  align-items-center">
      <label for="text" class="col-sm-3 col-form-label">Name</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" id="text" name="fname"
               oninput="validateName()" onchange="validateName()">
        <div id="nameError" class="error-box d-none"></div>
      </div>
    </div>

   
    <div class="col-8  align-items-center">
      <label for="number" class="col-sm-3 col-form-label">Number</label>
      <div class="col-sm-6">
        <input type="number" class="form-control" id="number" name="num"
               oninput="validateNumber()" onchange="validateNumber()">
        <div id="numError" class="error-box d-none"></div>
      </div>
    </div>

   
    <div class="col-8 align-items-center">
      <label for="date" class="col-sm-3 col-form-label">Date</label>
      <div class="col-sm-6">
        <input type="date" class="form-control" id="date" name="date"
               oninput="validateDate()" onchange="validateDate()">
        <div id="dateError" class="error-box d-none"></div>
      </div>
    </div>

    
    <div class="col-8 align-items-center">
      <label for="comment" class="col-sm-3 col-form-label">Comment</label>
      <div class="col-sm-6">
        <textarea class="form-control" id="comment" name="com" rows="3"
                  oninput="validateComment()" onchange="validateComment()"></textarea>
        <div id="comError" class="error-box d-none"></div>
      </div>
    </div>

    
    <div class="col-8 ">
      <div class="col-sm-3"></div>
      <div class="col-sm-6">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>

  </form>
</div>

<script>
// func for showing error msg
function showError(id, message) 
{
  const errorDiv = document.getElementById(id);
  if (message) 
  {
    errorDiv.textContent = message;
    errorDiv.classList.remove("d-none");
  } else 
  {
    errorDiv.textContent = "";
    errorDiv.classList.add("d-none");
  }
}

// Validation for name/text
function validateName() {
  const name = document.getElementById("text").value.trim();

  if (name.length < 4 || name.length > 30) 
  
  {
    showError("nameError", "Name must be between 4 and 30 characters.");
    return false;
  }
  showError("nameError", "");
  return true;
}

// Validation for number
function validateNumber() {

  const num = document.getElementById("number").value;
  if (num === "" || num < 20 || num > 30)
   {
    showError("numError", "Number must be between 20 and 30.");
    return false;
  }
  showError("numError", "");
  return true;
}

// Validation for date
function validateDate() {
  const date = document.getElementById("date").value;
  if (!date) 
  {
    showError("dateError", "Please select a date.");
    return false;
  }
  const selectedDate = new Date(date);
  const today = new Date();
  if (selectedDate >= today) 
  {
    showError("dateError", "Date must be a past date.");
    return false;
  }
  showError("dateError", "");
  return true;
}

// Validation for comment
function validateComment()
 {
  const com = document.getElementById("comment").value;
  if (com.length === 0) 
  {
    showError("comError", "Comment cannot be empty.");
    return false;
  }
  if (com.length > 100) 
  {
    showError("comError",  "Comment must not exceed 100 characters.");
    return false;
  }
  showError("comError", "");
  return true;
}

// Validation all at submit
document.getElementById("myForm").onsubmit = function (empty) {
  const isValid =
    validateName() &
    validateNumber() &
    validateDate() &
    validateComment();

  if (!isValid) {
    empty.preventDefault();
    alert("Please enter the correct data before submitting.");
  }
};
</script>
</body>
</html>
